import{p as e,d as l,o as t,e as n,f as a,g as o,i,C as s,k as p,m as r,s as u}from"./vendor.f7dd4e9f.js";const d={name:"SilkRibbon",props:{pattern:{type:Number,default:1},content:{type:String,default:"æ–‡å­—"}},computed:{ribbonClass(){return this.pattern<6&&this.pattern>1?"silk-ribbon"+this.pattern:"silk-ribbon1"}}},c=i();e("data-v-731b80f7");const f={style:{cursor:"pointer"}};l();const g=c(((e,l,i,s,p,r)=>(t(),n("span",{style:{"z-index":"1",color:"white"},class:r.ribbonClass},[a("span",f,o(i.content),1)],2))));d.render=g,d.__scopeId="data-v-731b80f7";const m={name:"FileUpload",components:{SilkRibbon:d},setup(){const e="http://localhost:8080/api/file/upload";return{uploadAttr:{action:e,headers:{token:"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI4IiwiaWF0IjoxNjIxMTQ4NzQ1LCJleHAiOjE2MjE3NTM1NDV9.luk430AQx3BhiYhgyCx0qR5CvbUv3dN9H0rG1y2fgiMbnckFe5n1HknsNg4P6neSDK5gQEEXZxRGCbY4PVot9w"},drag:!0,multiple:!0,onSuccess:e=>{console.log(e)},onError:(e,l,t)=>{alert(e)},beforeUpload:e=>{console.log(e),console.log("type:"+e.type,Math.round(e.size/1024*100/100)+"KB")}},upload1:s(null),fileInput:s(null),action:e,setImage:e=>{const l=e.target.files;console.log(l),alert(`ä½ é€‰æ‹©äº†${l.length}ä¸ªæ–‡ä»¶ï¼Œç¬¬ä¸€ä¸ªæ–‡ä»¶åä¸º${l[0].name}`)}}}},b=i();e("data-v-437ea51a");const h={class:"upload-demo"},v={class:"el-upload-demo"},I=a("h1",null,[a("a",{href:"https://element-plus.gitee.io/#/zh-CN/component/upload",target:"_blank"}," EL-Uploadä¸Šä¼  ")],-1),k=a("p",null,[u(" element-plusè‡ªå¸¦ç»„ä»¶ï¼Œé€šè¿‡ç‚¹å‡»æˆ–è€…æ‹–æ‹½ä¸Šä¼ æ–‡ä»¶ï¼Œæ›´å¤šç»†èŠ‚ "),a("b",null,"è§æºç ")],-1),y=a("p",null,"æ–‡æ¡£å‚æ•°å¾ˆå¤šï¼Œæœ€å¸¸ç”¨çš„å›è°ƒå‡½æ•°:onSuccessã€onErrorã€beforeUpload",-1),x=a("p",null,"è¯·æ±‚ç»†èŠ‚:Request Method:Postã€Content-Type: multipart/form-data;",-1),C=a("p",null,"SpringBootæ§åˆ¶å±‚å‚æ•°æ¥å—æ–‡ä»¶çš„æ–¹å¼:(MultipartFile file)ä½œä¸ºå‚æ•°",-1),R=a("p",null,"åŒæ—¶é…ç½®æ–‡ä»¶ä¸­spring.servlet.multipart.enabledå±æ€§éœ€ä¸ºtrue",-1),_=a("i",{class:"el-icon-upload"},null,-1),F=a("div",{class:"el-upload__text"},[u(" å°†æ–‡ä»¶æ‹–åˆ°æ­¤å¤„ï¼Œæˆ– "),a("em",null,"ç‚¹å‡»ä¸Šä¼ ")],-1),M=a("div",{class:"el-upload__tip"}," tip:åªèƒ½ä¸Šä¼  jpg/png æ–‡ä»¶ï¼Œä¸”ä¸è¶…è¿‡ 500kb ",-1),N=u(" å½“å‰actionï¼š "),S={class:"custom-upload-demo"},U=a("h1",null,"è‡ªå®šä¹‰ä¸Šä¼ åŠŸèƒ½",-1),E=a("input",{type:"file",name:"file"},null,-1),j=u(" ğŸ‘ˆä¸æƒ³è¦ä¸‘ä¸‘çš„åŸç”Ÿä¸Šä¼ ç»„ä»¶ï¼Œæ€ä¹ˆåŠï¼Ÿ "),z=a("p",null," é¦–å…ˆç»™åŸç”Ÿçš„ä¸Šä¼ ç»„ä»¶éšè—èµ·æ¥ï¼Œæ·»åŠ refå¼•ç”¨ï¼Œæ·»åŠ æ¥å—ç±»å‹(æ”¯æŒè¡¨è¾¾å¼)ï¼Œæ·»åŠ @changeæ–¹æ³• ",-1),A=a("p",null,' æ¯”å¦‚:<input hidden type="file" ref="fileInput" @change="setImage" accept="image/*" /> ',-1),w=u(" å½“éœ€è¦ "),J=u(" é€‰æ‹©æ–‡ä»¶çš„å¯¹è¯æ¡†ï¼Œè°ƒç”¨fileInput.clickæ–¹æ³•å³å¯,é€‰æ‹©æ–‡ä»¶å®Œåä¼šè°ƒç”¨@changeçš„æ–¹æ³• "),P=a("p",null," @changeæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°eventçš„targetå±æ€§å°±æ˜¯é‚£ä¸ªinputï¼Œè°ƒç”¨event.target.fileså³å¯è·å–é€‰æ‹©çš„æ–‡ä»¶ ",-1),Q=a("h2",null,"é™„:FileReaderçš„ä½¿ç”¨",-1),B=a("pre",null,"  if (typeof FileReader === 'function'){\n    const reader = new FileReader()\n    reader.onload = (event) => {\n      imgSrc.value = event.target.result\n    }\n    reader.readAsDataURL(file)\n  } else {\n    alert('ä¸æ”¯æŒFileReader API')\n  }\n    ",-1);l();const D=b(((e,l,i,s,u,d)=>{const c=p("el-upload"),f=p("silk-ribbon");return t(),n("div",h,[a("div",v,[I,k,y,x,C,R,a(c,r({ref:"upload1",style:{"max-width":"360px"}},s.uploadAttr),{tip:b((()=>[M])),default:b((()=>[_,F])),_:1},16),a("p",null,[N,a("span",null,o(s.action),1)]),a(f)]),a("div",S,[U,a("div",null,[E,j,a("input",{hidden:"",multiple:"",type:"file",ref:"fileInput",name:"image",onChange:l[1]||(l[1]=(...e)=>s.setImage&&s.setImage(...e)),accept:"image/*"},null,544)]),z,A,a("p",null,[w,a("button",{onClick:l[2]||(l[2]=(...e)=>s.fileInput.click&&s.fileInput.click(...e))},"å¼¹å‡º"),J]),P,Q,B])])}));m.render=D,m.__scopeId="data-v-437ea51a";export default m;
