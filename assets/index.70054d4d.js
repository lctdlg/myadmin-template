import{C as e,p as t,d as o,k as n,o as i,e as s,f as l,y as r,F as a,A as d,n as c,g as u,l as m,i as p,j as h,c as x,x as v}from"./vendor.f7dd4e9f.js";var g={weChatList:["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","不","好","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极"],kaomojiList:["（＝。＝）","(ーー゛)","(⊙﹏⊙)","(ノへ￣、)","(#`O′)","(°ー°〃)","(ー`´ー)","(#`O′)","(＠_＠;)","w(ﾟДﾟ)w","(￣_,￣ )","凸(艹皿艹 )","(*￣rǒ￣)","︿(￣︶￣)︿","♪(^∇^*)","o(≧口≦)o","(o_ _)ﾉ","ヽ(✿ﾟ▽ﾟ)ノ","φ(≧ω≦*)♪","(u‿ฺu✿ฺ)","（○｀ 3′○）","○|￣|_ =3","o(￣ヘ￣o＃)","o(一︿一+)o"]};function f(e){return"wechat"===e?g.weChatList.map(((e,t)=>({name:`[${e}]`,url:`<img title="${e}" src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/${t}.gif">`}))):"kaomoji"===e?g.kaomojiList:null}const y={name:"EmotionBox",props:["position"],emits:["emotion-add"],setup(){let t=e("wechat");return{wechatList:f("wechat"),kaomojiList:f("kaomoji"),current:t,emotions:[{key:"wechat",name:"微信表情"},{key:"kaomoji",name:"颜文字"}]}}},_=p();t("data-v-21add54f");const k=l("span",{class:"emotion-box__open-btn"},"表情",-1),L={class:"emotion-box__wrapper"},w={key:0,class:"emotion-box__container"},b={key:1,class:"emotion-box__container"},z={class:"emotion-box__tabs"};o();const C=_(((e,t,o,p,h,x)=>{const v=n("el-popover");return i(),s(v,{width:250,"popper-class":"emotion-box"},{reference:_((()=>[l("span",null,[r(e.$slots,"default",{},(()=>[k]),{})])])),default:_((()=>[l("div",L,["wechat"===p.current?(i(),s("div",w,[(i(!0),s(a,null,d(p.wechatList,((t,o)=>(i(),s("span",{key:"w:"+o,class:"emotion-box__item",innerHTML:t.url,onClick:o=>e.$emit("emotion-add",t.name)},null,8,["innerHTML","onClick"])))),128))])):"kaomoji"===p.current?(i(),s("div",b,[(i(!0),s(a,null,d(p.kaomojiList,((t,o)=>(i(),s("span",{innerHTML:t,key:"k:"+o,class:"emotion-box__item",onClick:o=>e.$emit("emotion-add",t)},null,8,["innerHTML","onClick"])))),128))])):c("",!0),l("div",z,[(i(!0),s(a,null,d(p.emotions,(e=>(i(),s("span",{key:e.key,textContent:u(e.name),onClick:m((t=>p.current=e.key),["stop"]),class:p.current===e.key?"emotion-box__tabs--active":""},null,10,["textContent","onClick"])))),128))])])])),_:1})}));y.render=C,y.__scopeId="data-v-21add54f";const B={name:"ResizeBox",props:{minWidth:{type:String,default:"10%"},padding:{type:String,default:"8px"},direction:{type:String,default:"horizontal"},contentPosition:{type:String,default:"center"},lineColor:{type:String,default:"white"}},emits:[],setup(t){const o=e(null),n=e(null),i=e(null),s={},{contentPosition:l,direction:r}=h(t),a=x((()=>"left"===l.value?3:"right"===l.value?1:2));let d;const c=e=>{e.stopPropagation(),e.changedTouches&&(e=e.changedTouches[0]),d?n.value.style.width=e.pageX-s.left+"px":n.value.style.height=e.pageY-s.top+"px"},u=()=>{const e=o.value;e.style.cursor=e.style.userSelect=null,e.style.width=s.styleWidth,e.style.height=s.styleHeight,e.removeEventListener("mousemove",c),e.removeEventListener("touchmove",c),document.removeEventListener("mouseup",u),document.removeEventListener("touchend",u)};return{resizeBox:o,leftBox:n,rbLine:i,positionRatio:a,resizeBoxWidth:()=>{const e=o.value;d="horizontal"===r.value,d?(s.left=e.getBoundingClientRect().left+document.documentElement.scrollLeft,s.styleWidth=e.style.width,e.style.width=e.offsetWidth+"px"):(s.top=e.getBoundingClientRect().top+document.documentElement.scrollTop,s.styleHeight=e.style.height,e.style.height=e.offsetHeight+"px"),e.style.userSelect="none",e.style.cursor=d?"w-resize":"n-resize",e.addEventListener("mousemove",c),e.addEventListener("touchmove",c,{passive:!0}),document.addEventListener("mouseup",u),document.addEventListener("touchend",u)}}}},E=p()(((e,t,o,a,d,c)=>{const u=n("app-icon");return i(),s("div",{ref:"resizeBox",class:["resize-box","resize-box--"+o.direction]},[l("div",{class:"resize-box__left",style:{minWidth:o.minWidth,padding:o.padding},ref:"leftBox"},[r(e.$slots,"left",{},void 0,!0)],4),l("div",{class:["resize-box__line","line--"+o.direction],onMousedownPassive:t[1]||(t[1]=m(((...e)=>a.resizeBoxWidth&&a.resizeBoxWidth(...e)),["stop"])),onTouchstartPassive:t[2]||(t[2]=m(((...e)=>a.resizeBoxWidth&&a.resizeBoxWidth(...e)),["stop"])),ref:"rbLine"},[l("div",{style:[{flex:"2"},{backgroundColor:o.lineColor}]},null,4),r(e.$slots,"line",{},(()=>[l(u,{icon:"el-icon-right"})]),{}),l("div",{style:{backgroundColor:o.lineColor,flex:a.positionRatio}},null,4)],34),l("div",{class:"resize-box__right",style:{minWidth:o.minWidth,padding:o.padding}},[r(e.$slots,"right",{},void 0,!0)],4)],2)}));B.render=E,B.__scopeId="data-v-04945978";const W={name:"EmotionDemo",components:{EmotionBox:y,ResizeBox:B},setup(){const t=e(""),o=x((()=>t.value.replace(/\[[\u4E00-\u9FA5]{1,3}\]/gi,(e=>{let t=e.replace(/\[|\]/gi,""),o=g.weChatList.indexOf(t);return-1!==o?`<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/${o}.gif">`:e}))));return{text1:t,processText:o}}},T=l("h2",null,"在左侧输入框输入标签，右侧实时将微信渲染成img标签",-1);W.render=function(e,t,o,r,a,d){const c=n("el-input"),u=n("emotion-box"),m=n("app-icon"),p=n("resize-box");return i(),s(p,null,{left:v((()=>[T,l(c,{type:"textarea",rows:4,placeholder:"请输入内容",modelValue:r.text1,"onUpdate:modelValue":t[1]||(t[1]=e=>r.text1=e)},null,8,["modelValue"]),l(u,{onEmotionAdd:t[2]||(t[2]=e=>r.text1+=e)})])),right:v((()=>[l("div",{innerHTML:r.processText},null,8,["innerHTML"])])),line:v((()=>[l(m,{icon:"el-icon-right"})])),_:1})};export default W;
