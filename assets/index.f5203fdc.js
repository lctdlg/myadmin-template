var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,l=(e,l)=>{for(var i in l||(l={}))n.call(l,i)&&o(e,i,l[i]);if(t)for(var i of t(l))a.call(l,i)&&o(e,i,l[i]);return e};import{a as i,D as r,S as s,r as d,w as c,t as u,b as p,c as m,p as h,d as f,o as g,e as b,f as _,g as v,h as w,m as T,i as x,j as y,k,l as V,n as E,T as I,q as P,s as L,u as C,v as S,x as A,y as M,z as R,F as O,A as j,B as D,K as q,C as B,E as N,G as U,H,I as z,J as W,L as F,M as $,N as K,$ as Q}from"./vendor.f7dd4e9f.js";function Y(){return i.get("ADMIN-TOKEN")}function G(e,t,n=null){let a=localStorage.getItem("YUAN-"+e);return"int"===t?(a=Number.parseInt(a),Number.isInteger(a)?a:n):"bool"===t?(a=JSON.parse(a),!0===a||!1===a?a:n):a}let J;r.defaults.timeout=5e3,r.defaults.baseURL="/api",r.interceptors.request.use((e=>{let t=Y();return t&&(e.headers.token=t),e})),r.interceptors.response.use((e=>Promise.resolve(e.data)),(e=>{var t,n;return s({message:(null==(n=null==(t=e.response)?void 0:t.data)?void 0:n.msg)||"undefined"}),Promise.reject(e.response)}));const X={},Z=function(e,t){if(!t)return e();if(void 0===J){const e=document.createElement("link").relList;J=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in X)return;X[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":J,t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e()))};const ee=d({sUnfoldWidth:G("sUnfoldWidth","int",210),unfoldSidebar:G("unfoldSidebar","bool",!0),fixedHeader:G("fixedHeader","bool",!1),showTabBar:G("showTabBar","bool",!0),showLogo:G("showLogo","bool",!0),sCollapseWidth:64,showSettings:!1,isMobile:document.body.clientWidth<1001,themeColor:"#02BF6F",breadcrumbList:[],visitedViews:[],cachedViews:[]});["unfoldSidebar","sUnfoldWidth","fixedHeader","showLogo"].forEach((e=>c(u(ee,e),(t=>{return n=e,a=t,void localStorage.setItem("YUAN-"+n,a);var n,a}))));const te=["/login"],ne=p([{title:"个人中心",path:"profile"},{title:"项目地址",path:"https://github.com/someGenki"},{title:"不可点击",path:"/",disabled:!0},{title:"退出登录",divided:!0,handle:()=>alert("登出!")}]);window.addEventListener("resize",function(e,t=100){let n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}((()=>ee.isMobile=document.body.clientWidth<1001),100));const ae=m((()=>ee.unfoldSidebar?ee.sUnfoldWidth+"px":(ee.isMobile?0:ee.sCollapseWidth)+"px")),oe=e=>{ee.unfoldSidebar=void 0!==e?e:!ee.unfoldSidebar},le=e=>{ee.showSettings=e},ie=e=>{e.meta.noCache||!e.name||ee.cachedViews.includes(e.name)||ee.cachedViews.push(e.name)},re=e=>{const t=ee.cachedViews.indexOf(e.name);t>-1&&ee.cachedViews.splice(t,1)},se=(e,t="self")=>{const n=ee.visitedViews;let a=null;for(const[o,l]of n.entries())if(l.path===e.path){switch(t){case"self":a=n.splice(o,1);break;case"all":a=n.splice(0,n.length);break;case"left":a=n.splice(0,o);break;case"other":a=n.splice(0,n.length,l);break;case"right":a=n.splice(o+1,n.length);break;default:a=n.splice(o,1)}break}if(a&&a.some((e=>e.name===ln.currentRoute.value.name))){const e=ee.visitedViews.slice(-1)[0];e?ln.push(e.fullPath):ln.push("/")}},de=e=>{const t=e.matched.filter((e=>e.meta&&e.meta.title));var n;ee.breadcrumbList.length=0,ee.breadcrumbList.push(...t),!(n=e).meta.title||ee.visitedViews.some((e=>e.path===n.path))||te.some((e=>n.path.includes(e)))||ee.visitedViews.push({name:n.name,path:n.path,query:n.query,title:n.meta.title,fullPath:n.fullPath}),ie(e)};function ce(){return{state:ee,sidebarWidth:ae,dropdownItems:ne,delTabBarItem:se,removeCachedView:re,cachedVisitedView:ie,handleSidebarToggle:oe,handleSettingsToggle:le,globalRouteUpdateHook:de}}const ue={name:"SettingItem",props:{desc:{type:String,required:!0},modelValue:{type:[Boolean,String,Number],required:!0},type:{type:String,default:"el-switch"}},emits:["update:modelValue","change"],setup:(e,{emit:t})=>({value:m({get:()=>e.modelValue,set:e=>t("update:modelValue",e)})})},pe=x();h("data-v-f1f69762");const me={class:"setting-item"};f();const he=pe(((e,t,n,a,o,l)=>(g(),b("div",me,[_("span",null,v(n.desc),1),(g(),b(w(n.type),T(e.$attrs,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e)}),null,16,["modelValue"]))]))));ue.render=he,ue.__scopeId="data-v-f1f69762";const fe={name:"Settings",components:{SettingItem:ue},setup(){const{handleSettingsToggle:e,state:t}=ce(),{showSettings:n,fixedHeader:a,sUnfoldWidth:o,showLogo:l,showTabBar:i}=y(t);return{handleSettingsToggle:e,showSettings:n,sUnfoldWidth:o,showTabBar:i,fixedHeader:a,showLogo:l}}},ge=x();h("data-v-6848d60e");const be={key:0,class:"settings-panel-content"},_e={class:"settings-panel-header"},ve=_("span",null,"项目配置",-1),we={class:"settings-panel-body"},Te=L("界面显示");f();const xe=ge(((e,t,n,a,o,l)=>{const i=k("el-divider"),r=k("setting-item");return g(),b(P,{to:"body"},[a.showSettings?(g(),b("div",{key:0,class:"mask-zIndex99",onClick:t[1]||(t[1]=V((e=>a.handleSettingsToggle(!1)),["stop","prevent","self"]))})):E("",!0),_(I,{name:"show-transform"},{default:ge((()=>[a.showSettings?(g(),b("div",be,[_("div",_e,[ve,_("button",{onClick:t[2]||(t[2]=e=>a.handleSettingsToggle(!1)),class:"close-btn",textContent:v("❌")},null,8,["textContent"])]),_("div",we,[_(i,null,{default:ge((()=>[Te])),_:1}),_(r,{modelValue:a.fixedHeader,"onUpdate:modelValue":t[3]||(t[3]=e=>a.fixedHeader=e),type:"el-switch",desc:"固定头部"},null,8,["modelValue"]),_(r,{modelValue:a.showLogo,"onUpdate:modelValue":t[4]||(t[4]=e=>a.showLogo=e),type:"el-switch",desc:"侧边栏Logo"},null,8,["modelValue"]),_(r,{modelValue:a.showTabBar,"onUpdate:modelValue":t[5]||(t[5]=e=>a.showTabBar=e),type:"el-switch",desc:"标签栏导航"},null,8,["modelValue"]),_(r,{modelValue:a.sUnfoldWidth,"onUpdate:modelValue":t[6]||(t[6]=e=>a.sUnfoldWidth=e),step:5,min:160,max:260,type:"el-input-number",desc:"侧边栏宽度",size:"mini"},null,8,["modelValue"])])])):E("",!0)])),_:1})])}));fe.render=xe,fe.__scopeId="data-v-6848d60e";var ye="./assets/user.002e23ad.png";const ke={name:"SidebarLogo",props:{toPath:{default:"/"},isCollapse:{default:!1},textColor:{default:"#dcdcdc"},title:{default:"Admin-Template"},backgroundColor:{default:"#2f343d"}}},Ve=x();h("data-v-307812b4");const Ee=_("img",{src:ye,alt:"logo"},null,-1);f();const Ie=Ve(((e,t,n,a,o,l)=>{const i=k("router-link");return g(),b(i,{to:n.toPath,class:"MutableLogo-wrapper",style:{backgroundColor:n.backgroundColor,color:n.textColor}},{default:Ve((()=>[Ee,C(_("h4",{style:{"margin-left":"10px"}},v(n.title),513),[[S,n.isCollapse]])])),_:1},8,["to","style"])}));ke.render=Ie,ke.__scopeId="data-v-307812b4";const Pe={name:"AppLink",props:{to:{type:String,required:!0}},setup(e){let t=(n=e.to,/^(https?:|mailto:|tel:)/.test(n)?"a":"router-link");var n;return"a"===t?{type:t,linkProps:{href:e.to,target:"_blank"}}:(e.to,{linkProps:{to:e.to},type:t})}};Pe.render=function(e,t,n,a,o,l){return g(),b(w(e.type),e.linkProps,{default:A((()=>[M(e.$slots,"default")])),_:3},16)};const Le={name:"SidebarItem",props:{item:{type:Object,required:!0}},components:{AppLink:Pe},setup(e){if(e.item.hidden)return{};const t=function(e){let t=0;Array.isArray(e.children)&&e.children.length>0&&e.children.forEach((e=>{e.hidden||t++}));return t}(e.item),n=t<2?Ce(e.item):null;let a=null;var o;return n&&!n.hidden&&n.name&&(o=n.path,a=/^(https?:|mailto:|tel:)/.test(o)?n:R().resolve({name:n.name})),{childCount:t,lastRoute:a}}};function Ce(e){return Array.isArray(e.children)&&0!==e.children.length?1===e.children.length?Ce(e.children[0]):null:e.hidden?null:e}Le.render=function(e,t,n,a,o,l){const i=k("app-icon"),r=k("el-menu-item"),s=k("app-link"),d=k("sidebar-item",!0),c=k("el-submenu");return a.lastRoute?(g(),b(s,{key:0,to:a.lastRoute.path},{default:A((()=>[_(r,{index:a.lastRoute.path},{title:A((()=>[L(v(a.lastRoute.meta.title),1)])),default:A((()=>[_(i,{icon:a.lastRoute.meta.icon||"el-icon-menu"},null,8,["icon"])])),_:1},8,["index"])])),_:1},8,["to"])):1===a.childCount?(g(),b(d,{key:1,item:n.item.children[0]},null,8,["item"])):a.childCount>1?(g(),b(c,{key:2,index:n.item.path},{title:A((()=>[_(i,{icon:n.item.meta.icon||"el-icon-s-grid"},null,8,["icon"]),_("span",null,v(n.item.meta.title),1)])),default:A((()=>[(g(!0),b(O,null,j(n.item.children,(e=>(g(),b(d,{key:e.path,item:e},null,8,["item"])))),128))])),_:1},8,["index"])):E("",!0)};const Se={name:"Sidebar",components:{SidebarLogo:ke,SidebarItem:Le},setup(){const{state:e,sidebarWidth:t}=ce(),{showLogo:n,unfoldSidebar:a}=y(e);return{routers:D(en.addRoutes),showLogo:n,elMenuStyle:{text:"#dcdcdc",background:"#304156",activeText:e.themeColor},sidebarWidth:t,unfoldSidebar:a}}},Ae=x(),Me=Ae(((e,t,n,a,o,l)=>{const i=k("sidebar-logo"),r=k("sidebar-item"),s=k("el-menu");return g(),b("aside",{class:"sidebar-container",style:{width:a.sidebarWidth}},[C(_(i,{"is-collapse":a.unfoldSidebar},null,8,["is-collapse"]),[[S,a.showLogo]]),_(s,{uniqueOpened:!0,"collapse-transition":!1,collapse:!a.unfoldSidebar,"default-active":e.$route.path,"text-color":a.elMenuStyle.text,"active-text-color":a.elMenuStyle.activeText,"background-color":a.elMenuStyle.background},{default:Ae((()=>[(g(!0),b(O,null,j(a.routers,(e=>(g(),b(r,{key:e.path,item:e},null,8,["item"])))),128))])),_:1},8,["collapse","default-active","text-color","active-text-color","background-color"])],4)}));Se.render=Me,Se.__scopeId="data-v-2f9ac89a";const Re={name:"AppMain",setup:()=>({cachedViewNames:u(ce().state,"cachedViews")})},Oe=x();h("data-v-2607d4df");const je={class:"app-main"};f();const De=Oe(((e,t,n,a,o,l)=>{const i=k("router-view");return g(),b("div",je,[_(i,null,{default:Oe((({Component:e})=>[(g(),b(q,{include:a.cachedViewNames},[(g(),b(w(e)))],1032,["include"]))])),_:1})])}));Re.render=De,Re.__scopeId="data-v-2607d4df";const qe={name:"TabBar",setup(){const e=R(),{state:t,delTabBarItem:n,removeCachedView:a}=ce(),o=t.visitedViews,l=d({top:0,left:0,show:!1,selectedTab:null}),i=()=>l.show=!1;return c(u(l,"show"),(e=>{e?document.body.addEventListener("click",i):document.body.removeEventListener("click",i)})),{contextMenuProp:l,visitedViews:o,delTabBarItem:n,refreshView:()=>{let t=e.currentRoute.value;a(t),t.path.indexOf("/redirect")>-1||e.replace({path:"/redirect"+t.fullPath})},markedTab:(e,t)=>e.mark=t,openMenu:(e,t)=>{l.left=t.pageX,l.top=t.pageY-5,l.selectedTab=e,l.show=!0}}}},Be=x();h("data-v-ed4e0d2e");const Ne={class:"tabBar"},Ue=_("i",{class:"el-icon-refresh"},null,-1),He=_("hr",null,null,-1);f();const ze=Be(((e,t,n,a,o,l)=>{const i=k("app-icon"),r=k("el-scrollbar");return g(),b("div",Ne,[_(r,{"view-style":"white-space:nowrap;display:flex;align-items: center;height: 100%;"},{default:Be((()=>[(g(!0),b(O,null,j(a.visitedViews,(t=>(g(),b("span",{class:["tabBar-item",{active:e.$route.path===t.path,mark:t.mark}],onMouseupCapture:V((e=>a.delTabBarItem(t)),["middle","stop"])},[_("span",{onClick:n=>e.$router.replace({path:t.path,query:t.query,fullPath:t.fullPath}),onContextmenu:V((e=>a.openMenu(t,e)),["prevent"]),textContent:v(t.title)},null,40,["onClick","onContextmenu","textContent"]),_(i,{onContextmenu:V((e=>a.openMenu(t,e)),["prevent"]),onClick:e=>a.delTabBarItem(t),class:"tab-close",icon:"el-icon-close",size:"12"},null,8,["onContextmenu","onClick"])],42,["onMouseupCapture"])))),256))])),_:1}),_("span",{class:"tabBar-refresh",onClick:t[1]||(t[1]=(...e)=>a.refreshView&&a.refreshView(...e)),title:"refresh"},[Ue]),(g(),b(P,{to:"body"},[a.contextMenuProp.show?(g(),b("ul",{key:0,style:{left:a.contextMenuProp.left+"px",top:a.contextMenuProp.top+"px"},class:"tabBar-contextmenu"},[_("li",{onClick:t[2]||(t[2]=e=>a.delTabBarItem(a.contextMenuProp.selectedTab,"self"))}," 关闭当前标签页🤏 "),_("li",{onClick:t[3]||(t[3]=e=>a.delTabBarItem(a.contextMenuProp.selectedTab,"left"))}," 关闭左侧标签页👈 "),_("li",{onClick:t[4]||(t[4]=e=>a.delTabBarItem(a.contextMenuProp.selectedTab,"right"))}," 关闭右侧标签页👉 "),_("li",{onClick:t[5]||(t[5]=e=>a.delTabBarItem(a.contextMenuProp.selectedTab,"other"))}," 关闭其他标签页👐 "),_("li",{onClick:t[6]||(t[6]=e=>a.delTabBarItem(a.contextMenuProp.selectedTab,"all"))}," 关闭所有标签页💥 "),He,_("li",{onClick:t[7]||(t[7]=e=>a.markedTab(a.contextMenuProp.selectedTab,!0))}," 设置重要提醒 "),_("li",{onClick:t[8]||(t[8]=e=>a.markedTab(a.contextMenuProp.selectedTab,!1))}," 移除重要提醒 ")],4)):E("",!0)]))])}));qe.render=ze,qe.__scopeId="data-v-ed4e0d2e";const We={name:"AvatarMenu",components:{AppLink:Pe},props:{items:{type:Array,required:!0},avatar:{},nickname:{}}},Fe=x(),$e=Fe(((e,t,n,a,o,l)=>{const i=k("el-dropdown-item"),r=k("app-link"),s=k("el-dropdown-menu"),d=k("el-dropdown");return g(),b(O,null,[_(d,{size:"medium"},{dropdown:Fe((()=>[_(s,null,{default:Fe((()=>[(g(!0),b(O,null,j(n.items,(e=>(g(),b(O,{key:e.title},[e.path&&!e.disabled?(g(),b(r,{key:0,to:e.path},{default:Fe((()=>[_(i,{divided:e.divided,textContent:v(e.title)},null,8,["divided","textContent"])])),_:2},1032,["to"])):(g(),b(i,{key:1,textContent:v(e.title),divided:e.divided,disabled:e.disabled,onClick:V((t=>"function"==typeof e.handle?e.handle():null),["prevent"])},null,8,["textContent","divided","disabled","onClick"]))],64)))),128))])),_:1})])),default:Fe((()=>[_("img",{class:"dropdown-avatar",src:n.avatar,alt:"avatar"},null,8,["src"])])),_:1}),C(_("p",{class:"menu-nickname"},v(n.nickname),513),[[S,n.nickname]])],64)}));We.render=$e,We.__scopeId="data-v-0b36ccdc";const Ke={name:"Breadcrumb",props:["list"]},Qe=x(),Ye=Qe(((e,t,n,a,o,l)=>{const i=k("el-breadcrumb-item"),r=k("el-breadcrumb");return g(),b(r,{class:"app-breadcrumb",separator:"/"},{default:Qe((()=>[(g(!0),b(O,null,j(n.list,(e=>(g(),b(i,{to:{name:e.name}},{default:Qe((()=>[L(v(e.meta.title),1)])),_:2},1032,["to"])))),256))])),_:1})}));Ke.render=Ye,Ke.__scopeId="data-v-cb5e51f4";const Ge={name:"Hamburger",props:{unfold:{type:Boolean,require:!0}},emits:["toggleClick"]},Je=x();h("data-v-1f1c53aa");const Xe=_("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"},null,-1);f();const Ze=Je(((e,t,n,a,o,l)=>(g(),b("div",{class:" hamburger-container",onClick:t[1]||(t[1]=t=>e.$emit("toggleClick"))},[(g(),b("svg",{class:[{unfold:n.unfold},"hamburger"],viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"},[Xe],2))]))));Ge.render=Ze,Ge.__scopeId="data-v-1f1c53aa";const et={name:"Navbar",components:{AvatarMenu:We,Breadcrumb:Ke,Hamburger:Ge},setup(){const{handleSidebarToggle:e,handleSettingsToggle:t,dropdownItems:n,state:a}=ce();return{DioAvatar:ye,dropdownItems:n,handleSidebarToggle:e,handleSettingsToggle:t,unfolded:u(a,"unfoldSidebar"),breadcrumbList:u(a,"breadcrumbList")}}},tt=x();h("data-v-99bb5b10");const nt={class:"navbar",role:"navigation"},at={class:"right-menu-area"},ot={class:"right-menu-action"},lt=_("p",null,"TODO 消息通知",-1);f();const it=tt(((e,t,n,a,o,l)=>{const i=k("Hamburger"),r=k("breadcrumb"),s=k("app-icon"),d=k("el-badge"),c=k("el-popover"),u=k("avatar-menu");return g(),b("div",nt,[_(i,{unfold:a.unfolded,onToggleClick:a.handleSidebarToggle},null,8,["unfold","onToggleClick"]),_(r,{list:a.breadcrumbList},null,8,["list"]),_("div",at,[_(s,{class:"right-menu-action",icon:"el-icon-search"}),_(s,{class:"right-menu-action",icon:"el-icon-full-screen"}),_(c,{trigger:"click"},{reference:tt((()=>[_("span",ot,[_(d,{"is-dot":""},{default:tt((()=>[_(s,{icon:"el-icon-bell"})])),_:1})])])),default:tt((()=>[lt])),_:1}),_(u,{nickname:"管理员",items:a.dropdownItems,avatar:a.DioAvatar},null,8,["items","avatar"]),_(s,{size:"20",icon:"el-icon-setting",class:"right-menu-action",onClick:t[1]||(t[1]=V((e=>a.handleSettingsToggle(!0)),["stop"]))})])])}));et.render=it,et.__scopeId="data-v-99bb5b10";const rt={name:"Layout",components:{Settings:fe,AppMain:Re,Sidebar:Se,NavBar:et,TabBar:qe},setup(){const{state:e,sidebarWidth:t,handleSidebarToggle:n}=ce(),{fixedHeader:a,isMobile:o,unfoldSidebar:l,showTabBar:i}=y(e),r=m((()=>a.value?a.value&&i.value?"76px":"42px":"0"));return{isMobile:o,showTabBar:i,fixedHeader:a,sidebarWidth:t,unfoldSidebar:l,mainPaddingTopOnFixed:r,handleSidebarToggle:n}}},st=x();h("data-v-53a6c40e");const dt={class:"app-wrapper"};f();const ct=st(((e,t,n,a,o,l)=>{const i=k("sidebar"),r=k("nav-bar"),s=k("tab-bar"),d=k("app-main"),c=k("settings");return g(),b("div",dt,[_(i),a.isMobile&&a.unfoldSidebar?(g(),b("div",{key:0,class:"mask-zIndex99",onClick:t[1]||(t[1]=V((e=>a.handleSidebarToggle(!1)),["self","stop"]))})):E("",!0),_("div",{class:"main-container",style:{paddingLeft:a.isMobile?0:a.sidebarWidth,paddingTop:a.mainPaddingTopOnFixed}},[_("header",{class:{"fixed-header":a.fixedHeader}},[_(r),a.showTabBar?(g(),b(s,{key:0})):E("",!0)],2),_(d)],4),_(c)])}));rt.render=ct,rt.__scopeId="data-v-53a6c40e";const ut={username:[{required:!0,message:"用户名不能为空"}],password:[{required:!0,message:"密码不能为空"}]},pt=d({username:"admin",password:"123456"});let mt=B(null);const ht=m((()=>pt.username.length>0&&pt.password.length>0));function ft(){mt.value.validate((e=>{if(!e)return console.log("login fail because ",e),!1;console.log("login success"),function(e){let{username:t,password:n}=e;return(a={username:t,password:n},r.post("/user/login",a)).then((e=>{var t;return en.token=e.data.token,en.roles.push(...e.data.roles),en.name=e.data.name||"Yuan",t=e.data.token,i.set("ADMIN-TOKEN",t),nn(),e.data}));var a}(mt).then((()=>{ln.push({path:ln.currentRoute.value.query.redirect||"/"})}))}))}function gt(e){return{form:pt,loginRules:ut,loginBtnEnable:ht,loginFormRef:mt,handleLogin:ft}}const bt={name:"login01",setup(){const e=B(!1);return l({showPasswordToggle:function(){e.value=!e.value},showPassword:e},gt())}},_t=x();h("data-v-f5473780");const vt=_("div",{class:"header-container"},[_("h2",null,"Vue Admin Template")],-1),wt={class:"body-container"},Tt=_("i",{class:"el-icon-right"},null,-1),xt=_("div",{class:"footer-container"},[_("h1")],-1);f();const yt=_t(((e,t,n,a,o,l)=>{const i=k("el-form-item"),r=k("el-form");return g(),b(r,{model:e.form,rules:e.loginRules,ref:"loginFormRef",class:"login-form"},{default:_t((()=>[vt,_("div",wt,[_(i,{required:"",size:"small",prop:"username"},{default:_t((()=>[C(_("input",{class:"login-input",required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.username=t),placeholder:"用户名/邮箱"},null,512),[[N,e.form.username]])])),_:1}),_(i,{required:"",prop:"password"},{default:_t((()=>[C(_("input",{class:"login-input",type:a.showPassword?"":"password",required:"","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.password=t),placeholder:"请输入密码"},null,8,["type"]),[[U,e.form.password]]),_("i",{onClick:t[3]||(t[3]=(...e)=>a.showPasswordToggle&&a.showPasswordToggle(...e)),class:[{slash:a.showPassword},"el-icon-view password-see"]},null,2)])),_:1}),_("button",{class:["login-button",{enable:e.loginBtnEnable}],onClick:t[4]||(t[4]=V(((...t)=>e.handleLogin&&e.handleLogin(...t)),["prevent"]))},[Tt],2)]),xt])),_:1},8,["model","rules"])}));bt.render=yt,bt.__scopeId="data-v-f5473780";const kt={name:"ThirdPartyLogin",setup(){}},Vt=x();h("data-v-55d2bd68");const Et=_("p",{style:{"text-align":"center"}},"支持以下第三方登录",-1),It={class:"third-party-list"},Pt={id:"tp-qq"},Lt=L(" QQ "),Ct={id:"tp-wechat"},St=L(" Wechat "),At={id:"tp-github"},Mt=L(" github ");f();const Rt=Vt(((e,t,n,a,o,l)=>{const i=k("app-icon");return g(),b(O,null,[Et,_("ul",It,[_("li",Pt,[_(i,{size:"26",icon:"QQ"}),Lt]),_("li",Ct,[_(i,{size:"26",icon:"wechat"}),St]),_("li",At,[_(i,{size:"26",icon:"github"}),Mt])])],64)}));kt.render=Rt,kt.__scopeId="data-v-55d2bd68";const Ot={name:"Login02",components:{ThirdPartyLogin:kt},setup(){const e=B("login"),t=B(!0);return l({activeName:e,rememberMe:t},gt())}},jt=x();h("data-v-83ea9c00");const Dt=_("div",{class:"header-container"},[_("h2",null,"Vue Admin Template")],-1),qt=_("span",null,[_("i",{class:"el-icon-user-solid"}),L(" 用户登录 ")],-1),Bt={class:"login-group"},Nt={class:"login-help"},Ut=L("记住我"),Ht=_("a",{class:"forget-password",href:"#"},"忘记密码？",-1),zt=_("span",null,[_("i",{class:"el-icon-plus"}),L(" 账号注册 ")],-1),Wt=L(" 注册 "),Ft=_("span",null,[_("i",{class:"el-icon-camera"}),L(" 扫码登录 ")],-1),$t=L(" 扫码。。。 ");f();const Kt=jt(((e,t,n,a,o,l)=>{const i=k("el-input"),r=k("el-form-item"),s=k("el-checkbox"),d=k("el-button"),c=k("third-party-login"),u=k("el-form"),p=k("el-tab-pane"),m=k("el-tabs");return g(),b(O,null,[Dt,_(m,{modelValue:a.activeName,"onUpdate:modelValue":t[4]||(t[4]=e=>a.activeName=e),stretch:!0},{default:jt((()=>[_(p,{name:"login"},{label:jt((()=>[qt])),default:jt((()=>[_(u,{ref:"loginFormRef",rules:e.loginRules,model:e.form},{default:jt((()=>[_(r,{required:"",size:"small",prop:"username"},{default:jt((()=>[_(i,{required:"",modelValue:e.form.username,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.username=t),"prefix-icon":"el-icon-user",placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),_(r,{required:"",size:"small",prop:"password"},{default:jt((()=>[_(i,{required:"","prefix-icon":"el-icon-lock",modelValue:e.form.password,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.password=t),"show-password":"",placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),_("div",Bt,[_("div",Nt,[_(s,{modelValue:a.rememberMe,"onUpdate:modelValue":t[3]||(t[3]=e=>a.rememberMe=e)},{default:jt((()=>[Ut])),_:1},8,["modelValue"]),Ht]),_(d,{class:"login-button",type:"primary",onClick:V(e.handleLogin,["prevent"]),textContent:v("登录")},null,8,["onClick","textContent"])]),_(c)])),_:1},8,["rules","model"])])),_:1}),_(p,{name:"register"},{label:jt((()=>[zt])),default:jt((()=>[Wt])),_:1}),_(p,{name:"qr-code"},{label:jt((()=>[Ft])),default:jt((()=>[$t])),_:1})])),_:1},8,["modelValue"])],64)}));Ot.render=Kt,Ot.__scopeId="data-v-83ea9c00";const Qt={name:"login",components:{Login01:bt,Login02:Ot},setup(){const e=B(H().query.page||"1");return{pageNo:e,changeLoginStyle:()=>{"1"===e.value?e.value="2":e.value="1"}}}},Yt=x();h("data-v-523d2ad0");const Gt={class:"login-container"};f();const Jt=Yt(((e,t,n,a,o,l)=>{const i=k("login01"),r=k("login02");return g(),b("div",Gt,[_("span",{style:{cursor:"pointer"},onClick:t[1]||(t[1]=(...e)=>a.changeLoginStyle&&a.changeLoginStyle(...e))},"toggle"),"1"===a.pageNo?(g(),b(i,{key:0})):"2"===a.pageNo?(g(),b(r,{key:1})):E("",!0)])}));Qt.render=Jt,Qt.__scopeId="data-v-523d2ad0";var Xt=[{path:"/redirect",component:rt,redirect:"/",hidden:!0,children:[{path:"/redirect/:path(.*)",name:"redirect",component:{name:"redirect",setup(){const{currentRoute:e,replace:t}=R(),{params:n,query:a}=e.value,{path:o}=n;return t({path:"/"+(Array.isArray(o)?o.join("/"):o),query:a}),()=>z("div")}},meta:{noCache:!0}}]},{path:"/",component:rt,redirect:"/dashboard",children:[{path:"dashboard",name:"Dashboard",component:()=>Z((()=>import("./index.1ade37e3.js")),["./assets/index.1ade37e3.js","./assets/index.e75c1090.css","./assets/vendor.f7dd4e9f.js"]),meta:{title:"首页",icon:"el-icon-info"}}]},{path:"/login",hidden:!0,component:Qt,meta:{noCache:!0,title:"Vue Admin 登录页"}},{path:"/404",component:()=>Z((()=>import("./404.afcff616.js")),["./assets/404.afcff616.js","./assets/vendor.f7dd4e9f.js"]),hidden:!0},{path:"/401",component:()=>Z((()=>import("./401.ca7096e2.js")),["./assets/401.ca7096e2.js","./assets/vendor.f7dd4e9f.js"]),hidden:!0},{path:"/icons",component:rt,redirect:"/icons/index",children:[{path:"index",name:"Icons",component:()=>Z((()=>import("./index.90ec2d02.js")),["./assets/index.90ec2d02.js","./assets/index.85378130.css","./assets/vendor.f7dd4e9f.js"]),meta:{title:"图标展示",icon:"el-icon-shopping-cart-full"}}]},{path:"/profile",component:rt,redirect:"/profile/index",children:[{path:"index",name:"Profile",component:()=>Z((()=>import("./index.adf9ecc3.js")),["./assets/index.adf9ecc3.js","./assets/index.5ec56705.css","./assets/vendor.f7dd4e9f.js"]),meta:{title:"个人中心"}}]},{path:"/example",component:rt,redirect:"/example/file-upload",meta:{title:"功能示例",icon:"el-icon-copy-document"},children:[{path:"file-upload",component:()=>Z((()=>import("./index.fccf9c84.js")),["./assets/index.fccf9c84.js","./assets/index.e94496dd.css","./assets/vendor.f7dd4e9f.js"]),name:"FileUpload",meta:{title:"文件上传",icon:"el-icon-upload2"}},{path:"file-download",component:()=>Z((()=>import("./index.997f305a.js")),["./assets/index.997f305a.js","./assets/index.a3f23539.css","./assets/vendor.f7dd4e9f.js"]),name:"FileDownload",meta:{title:"文件下载",icon:"el-icon-download"}},{path:"emotion-demo",component:()=>Z((()=>import("./index.70054d4d.js")),["./assets/index.70054d4d.js","./assets/index.69ca4ffb.css","./assets/vendor.f7dd4e9f.js"]),name:"EmotionDemo",meta:{title:"输入框表情",icon:"el-icon-box"}},{path:"compare-demo",component:()=>Z((()=>import("./index.0cc0734b.js")),["./assets/index.0cc0734b.js","./assets/index.428d186e.css","./assets/vendor.f7dd4e9f.js"]),name:"CompareDemo",meta:{title:"图片对比",icon:"el-icon-picture-outline"}},{path:"text-editor",component:()=>Z((()=>import("./404.afcff616.js")),["./assets/404.afcff616.js","./assets/vendor.f7dd4e9f.js"]),name:"TextEditor",meta:{title:"文本编辑器",icon:"el-icon-edit"}},{path:"image-cropper",component:()=>Z((()=>import("./404.afcff616.js")),["./assets/404.afcff616.js","./assets/vendor.f7dd4e9f.js"]),name:"ImageCropper",meta:{title:"图片裁剪",icon:"el-icon-picture-outline-round"}},{path:"silk-ribbon",component:()=>Z((()=>import("./404.afcff616.js")),["./assets/404.afcff616.js","./assets/vendor.f7dd4e9f.js"]),name:"SilkRibbon",meta:{title:"缎带组件",icon:"el-icon-collection-tag"}}]},{path:"/example-page",component:rt,redirect:"/example-page/404",meta:{title:"页面示例",icon:"el-icon-document"},children:[{path:"404",component:()=>Z((()=>import("./404.afcff616.js")),["./assets/404.afcff616.js","./assets/vendor.f7dd4e9f.js"]),name:"404",meta:{title:"404页面",icon:"el-icon-close"}},{path:"401",component:()=>Z((()=>import("./401.ca7096e2.js")),["./assets/401.ca7096e2.js","./assets/vendor.f7dd4e9f.js"]),name:"401",meta:{title:"401页面",icon:"el-icon-close"}},{path:"scroll-page",component:()=>Z((()=>import("./scroll-page.2a299b4a.js")),["./assets/scroll-page.2a299b4a.js","./assets/vendor.f7dd4e9f.js"]),name:"ScrollPage",meta:{title:"滚动页面",icon:"el-icon-d-caret"}},{path:"example-table",name:"ExampleTable",component:()=>Z((()=>import("./404.afcff616.js")),["./assets/404.afcff616.js","./assets/vendor.f7dd4e9f.js"]),meta:{title:"表格 Table",icon:"el-icon-date"}},{path:"example-echarts",name:"ExampleEcharts",component:()=>Z((()=>import("./404.afcff616.js")),["./assets/404.afcff616.js","./assets/vendor.f7dd4e9f.js"]),meta:{title:"图表 Echarts",icon:"el-icon-pie-chart"}},{path:"example-drag",name:"ExampleDrag",component:()=>Z((()=>import("./404.afcff616.js")),["./assets/404.afcff616.js","./assets/vendor.f7dd4e9f.js"]),meta:{title:"拖拽 Drag",icon:"el-icon-thumb"}},{path:"online-chat",name:"OnlineChat",component:()=>Z((()=>import("./404.afcff616.js")),["./assets/404.afcff616.js","./assets/vendor.f7dd4e9f.js"]),meta:{title:"即时通讯聊天",icon:"el-icon-microphone"}}]}],Zt=[{path:"/test",redirect:"/test/test1",component:rt,hidden:!0,children:[{path:"test1",name:"Test1",component:()=>Z((()=>import("./test1.7a683711.js")),["./assets/test1.7a683711.js","./assets/test1.ea76000c.css","./assets/vendor.f7dd4e9f.js"]),meta:{title:"测试-1"}}]},{path:"/permission",redirect:"/permission/page",component:rt,meta:{title:"权限页面",roles:["admin","editor","test"]},children:[{path:"page",component:()=>Z((()=>import("./page.881559ab.js")),["./assets/page.881559ab.js","./assets/vendor.f7dd4e9f.js"]),name:"PagePermission",meta:{title:"权限-页面",roles:["admin"]}},{path:"test",component:()=>Z((()=>import("./test.1d0c79de.js")),["./assets/test.1d0c79de.js","./assets/vendor.f7dd4e9f.js"]),name:"TestPermission",meta:{title:"权限-测试",roles:["admin","test"]}}]},{path:"/nested",component:rt,redirect:"/nested/menu1/menu1-1",name:"Nested",meta:{title:"嵌套路由"},children:[{path:"menu1",component:()=>Z((()=>import("./index.03d1b32e.js")),["./assets/index.03d1b32e.js","./assets/vendor.f7dd4e9f.js"]),name:"Menu1",meta:{title:"Menu 1"},redirect:"/nested/menu1/menu1-1",children:[{path:"menu1-1",component:()=>Z((()=>import("./index.bb725bcc.js")),["./assets/index.bb725bcc.js","./assets/vendor.f7dd4e9f.js"]),name:"Menu1-1",meta:{title:"Menu 1-1"}},{path:"menu1-2",component:()=>Z((()=>import("./index.e834e7d1.js")),["./assets/index.e834e7d1.js","./assets/vendor.f7dd4e9f.js"]),name:"Menu1-2",redirect:"/nested/menu1/menu1-2/menu1-2-1",meta:{title:"Menu 1-2"},children:[{path:"menu1-2-1",component:()=>Z((()=>import("./index.c689b2c5.js")),["./assets/index.c689b2c5.js","./assets/vendor.f7dd4e9f.js"]),name:"Menu1-2-1",meta:{title:"Menu 1-2-1"}},{path:"menu1-2-2",component:()=>Z((()=>import("./index.04301dda.js")),["./assets/index.04301dda.js","./assets/vendor.f7dd4e9f.js"]),name:"Menu1-2-2",meta:{title:"Menu 1-2-2"}}]},{path:"menu1-3",component:()=>Z((()=>import("./index.0e7398fc.js")),["./assets/index.0e7398fc.js","./assets/vendor.f7dd4e9f.js"]),name:"Menu1-3",meta:{title:"Menu 1-3"}}]},{path:"menu2",name:"Menu2",component:()=>Z((()=>import("./index.4dcb49f0.js")),["./assets/index.4dcb49f0.js","./assets/vendor.f7dd4e9f.js"]),meta:{title:"Menu 2"}}]},{path:"/:catchAll(.*)*",name:"NotFound",hidden:!0,component:()=>Z((()=>import("./404.afcff616.js")),["./assets/404.afcff616.js","./assets/vendor.f7dd4e9f.js"])},{path:"/ex-link",children:[{path:"https://github.com/lctdlg",name:"ex-link-github",meta:{title:"Github"}}]}];const en=d({token:Y(),name:"",avatar:"",roles:[],addRoutes:null});function tn(){return r.get("/user/info",e).then((e=>{en.roles=e.data.roles,nn()}));var e}function nn(){let e;e=en.roles.includes("admin")?Zt||[]:an(Zt,en.roles),e.forEach((e=>{ln.addRoute(e)})),en.addRoutes=Xt.concat(e)}function an(e,t){const n=[];return e.forEach((e=>{const a=l({},e);(function(e,t){return!t.meta||!t.meta.roles||e.some((e=>t.meta.roles.includes(e)))})(t,a)&&(a.children&&(a.children=an(a.children,t)),n.push(a))})),n}const on=new Set(["/login","/401","/404","/about"]),ln=W({history:F("./"),routes:Xt});ln.beforeEach((async e=>Y()||on.has(e.path)?en.roles&&en.roles.length>0?void 0:(await tn(),e):{path:"/login",query:{redirect:e.fullPath}})),ln.afterEach((e=>{document.title=e.meta.title||"Vue Admin Prod",de(e)}));var rn={state:{user:en},getter:{}};const sn={name:"App",setup(){}};sn.render=function(e,t,n,a,o,l){const i=k("router-view");return g(),b(i)};const dn={name:"AppIcon",props:{icon:{type:String,required:!0},color:{type:String},size:{default:16}},setup(e){const{icon:t,color:n,size:a}=e,o=a+"px";if(t.startsWith("el-"))return()=>z("i",{class:t+" app-icon",style:{fontSize:o,color:n}});{const e={width:o,height:o};return n&&(e.color=n,e.fill="currentColor"),()=>z("svg",{style:e,class:"svg-icon app-icon"},z("use",{"xlink:href":"#icon-"+t}))}}};function cn(e,t=0,n="msg"){return{code:t,data:e,msg:n}}var un=[{url:"/api/test01",method:"get",response:({query:e})=>({code:0,data:{name:"jojo1",query:e}})},{url:"/api/user/login",method:"post",response:cn({name:"jojo",token:"THIS_IS_TOKEN",roles:["admin"]})},{url:"/api/user/info",method:"get",response:cn({name:"jojo",token:"THIS_IS_TOKEN",roles:["admin"]})},{url:"/api/demo/download1",method:"get",rawResponse:async(e,t)=>{await new Promise((e=>setTimeout((()=>e()),500))),t.setHeader("Content-Type","application/octet-stream;charset=utf-8"),t.setHeader("Content-Disposition","attachment;filename=jojo.txt"),t.write("TEXT"),t.end()}}];const pn=K(sn);pn.use(ln).use(Q),pn.component("app-icon",dn),pn.config.globalProperties.$store=rn,pn.mount("#app"),$([...un]);export{ye as _};
